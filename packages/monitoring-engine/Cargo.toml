[package]
name = "monitoring-engine"
version.workspace = true
authors.workspace = true
edition.workspace = true
license.workspace = true

[dependencies]
# Async runtime
tokio.workspace = true
async-trait.workspace = true

# HTTP client
reqwest.workspace = true

# Serialization
serde.workspace = true
serde_json.workspace = true

# Error handling
anyhow.workspace = true
thiserror.workspace = true

# Logging
tracing.workspace = true
tracing-subscriber.workspace = true

# Time
chrono.workspace = true

# Utils
once_cell.workspace = true

# Substrate connection
subxt = { version = "0.35", features = ["substrate-compat"] }
# Note: subxt includes necessary sp-* types, we don't need to add them separately
# sp-core and sp-runtime are pulled in as dependencies of subxt

# Web server (for REST API)
actix-web = { version = "4", default-features = false, features = ["macros"] }
actix-cors = "0.7"

# Concurrent data structures
dashmap = "6.1"

# Rate limiting
governor = "0.6"

# UUID generation
uuid = { version = "1.0", features = ["v4", "serde"] }

[dev-dependencies]
mockall.workspace = true
pretty_assertions.workspace = true
tokio-test = "0.4"
proptest = "1.0"
# wiremock = "0.6" - Temporarily removed due to Rust version compatibility
# Will re-add when needed for HTTP mocking tests

[[bench]]
name = "detection_benchmarks"
harness = false

[dependencies.criterion]
version = "0.5"
optional = true

[features]
default = []
bench = ["criterion"]

[lib]
name = "monitoring_engine"
path = "src/lib.rs"
